{% extends 'base.html' %}
{% block users %}active{% endblock %}
{% block pagetitle %}Temp{% endblock %}
{% block header %}<h1>Temp</h1>{% endblock %}
{% block content %}
{% if keyword %} <h2>You want to search "{{ keyword }}"</h2> {% endif %}
<table>
    <thead>
        <tr>
        {% for col in table_header %}
            <td>{{ col }}</td>
        {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for row in user_list %}
        <tr>
            {% for col in row %}
            <td>{{ col }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>

<div id="table_div"></div>
{% endblock %}

{% block tailscript %}
    <script type='text/javascript' src='https://www.google.com/jsapi'></script>
    <script type='text/javascript'>
        google.load('visualization', '1', {packages:['table']});
        google.setOnLoadCallback(drawTable);
        function drawTable() {
            var data = new google.visualization.DataTable();
            {% for col in cols %}
                data.addColumn{{ col|safe }};
            {% endfor %}
            data.addRows(
                {{ tbl|safe }}
                /*[
                    ['Mike',  {v: 10000, f: '$10,000'}, true],
                    ['Jim',   {v:8000,   f: '$8,000'},  false],
                    ['Alice', {v: 12500, f: '$12,500'}, true],
                    ['Bob',   {v: 7000,  f: '$7,000'},  true]
                ]*/
            );
            // v: the cell value  f: the string ver of cell value
            
            var table = new google.visualization.Table($('#table_div')[0]);
            table.draw(data, {showRowNumber: true});
        }
    </script>
{% endblock %}

